import{a as p}from"./axios-c0bebe37.js";import{_ as u,o as d,c as m,a as o,w as r,v as i,b as c,t as _,p as g,d as h}from"./index-d39f5865.js";const f={name:"Login",data(){return{username:"admin",password:"123456",errmsg:"",errshow:!1,api:"http://127.0.0.1:8000/api-token-auth/"}},methods:{fnLogin(){if(this.username==""||this.password==""){this.errmsg="用户名或密码不能为空",this.errshow=!0;return}p.post(this.api,{username:"admin",password:"123456"}).then(n=>{sessionStorage.clear(),localStorage.clear(),localStorage.token=n.data.token,localStorage.username=this.username,this.$router.push("/home")})}}},l=n=>(g("data-v-1e9c8759"),n=n(),h(),n),w={class:"main_wrap"},v=l(()=>o("div",{class:"login_logo"},[o("span",null," NRS Document Management System")],-1)),S={method:"post",class:"login_form"},x=l(()=>o("h1",{class:"login_title"},"NRS DMS",-1));function k(n,e,y,L,s,a){return d(),m("div",w,[v,o("form",S,[x,r(o("input",{type:"text",name:"username",placeholder:"User",class:"input_txt",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),onClick:e[1]||(e[1]=t=>s.errshow=!1)},null,512),[[i,s.username]]),r(o("input",{type:"password",name:"password",placeholder:"Password",class:"input_txt","onUpdate:modelValue":e[2]||(e[2]=t=>s.password=t),onClick:e[3]||(e[3]=t=>s.errshow=!1)},null,512),[[i,s.password]]),r(o("div",{class:"error_tip"},_(s.errmsg),513),[[c,s.errshow]]),o("input",{type:"button",value:"Login",class:"input_sub",onClick:e[4]||(e[4]=(...t)=>a.fnLogin&&a.fnLogin(...t))})])])}const b=u(f,[["render",k],["__scopeId","data-v-1e9c8759"]]);export{b as default};
